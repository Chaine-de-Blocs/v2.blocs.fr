<!doctype html><html lang=fr dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Installer un nœud Lightning Network – Blocs.fr</title><script defer src=/js/fuse.min.94c78ad70b02749822921660cf4e9f0b3701bc0680c421afb784a78228de0275.js></script>
<script src=/js/enquire.min.dfb99dee1e029d51d6cfb672d847929890b1585402de17f5ed092edd72a688b4.js></script>
<script defer src=/js/lazysizes.min.31dd6a2d3a1ec0f78a8df007535cf23f03aeb5c70f026e6d6a19dac3b3acc340.js></script>
<script defer src=/js/helper/getParents.min.086022fb02d7a1517e33c2670bffb976b3e80bcacd9caeee0c6a586064f20e42.js></script>
<script defer src=/js/helper/fadeinout.min.9fe4b81a87e722d20c220a2b6ca145a3d8a2cb3ea1e89de55329ff417bdd9570.js></script>
<script>"use strict";window.onload=function(){var e,t,n,s,o,i,r,c,l,h,m,f,p,g,v,b,j,y,w,O,x,k,S,F,T,D,N,L,R,P,H,I,B,V,$,U,K,q,Y,G,X,Q,_=JSON.parse('"ltr"'),ee,ae,re,ie,oe=JSON.parse('"https://blocs.fr"'),de=JSON.parse('"https://blocs.fr/blog/installer-un-noeud-lightning-network/"'),te=document.getElementById("toggle-sidebar"),W=document.getElementById("toggle-menu"),E=document.querySelector(".toc__body"),M=document.querySelector(".toc__label"),u=document.getElementById("list-main"),A=document.getElementById("list-side"),C=document.getElementById("single-menu"),d=document.querySelectorAll(".slider__icon");te?te.addEventListener("change",function(e){e.target.checked?(E&&fadeIn(E,200),M&&fadeIn(M,200),u&&A&&(u.className="m",A.className="r"),d&&d.forEach(function(e){e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")})):(E&&fadeOut(E,200),M&&fadeOut(M,200),u&&A&&(u.className="mr",A.className="hide"),d&&d.forEach(function(e){e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")}))}):null,W?W.addEventListener("change",function(e){e.target.checked?(u&&C&&(u.className="m",C.className="l"),d&&d.forEach(function(e){e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")})):(u&&C&&(u.className="lm",C.className="hide"),d&&d.forEach(function(e){e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")}))}):null,V=document.getElementById("navCollapseBtn"),V?V.addEventListener("click",function(){var n,t=document.querySelector(".navbar__collapse");t&&(n=t.getAttribute("data-open"),n==="true"?(t.setAttribute("data-open","false"),t.style.maxHeight=0):(t.setAttribute("data-open","true"),t.style.maxHeight=t.scrollHeight+"px"))}):null,T=document.querySelectorAll(".expand__button");for(let e=0;e<T.length;e++)T[e].addEventListener("click",function(){var e=this.nextElementSibling;e.style.maxHeight?(e.style.maxHeight=null,this.querySelector("svg").classList.add("expand-icon__right"),this.querySelector("svg").classList.remove("expand-icon__down")):(e.style.maxHeight=e.scrollHeight+"px",this.querySelector("svg").classList.remove("expand-icon__right"),this.querySelector("svg").classList.add("expand-icon__down"))});document.querySelectorAll(".tab")?document.querySelectorAll(".tab").forEach(function(e){var o=e.getAttribute("id"),i=e,n=e.querySelectorAll(".tab__link"),s=e.querySelectorAll(".tab__content"),a=[];n&&n.length>0?n.forEach(function(e,t,n){e.onclick=function(){for(var o=0;o<n.length;o++)t===parseInt(o,10)?n[o].classList.contains("active")||(n[o].classList.add("active"),s[o].style.display="block"):(n[o].classList.remove("active"),s[o].style.display="none")}}):null}):null,document.querySelectorAll(".codetab")?document.querySelectorAll(".codetab").forEach(function(e){var o=e.getAttribute("id"),i=e,n=e.querySelectorAll(".codetab__link"),s=e.querySelectorAll(".codetab__content"),a=[];n&&n.length>0?n.forEach(function(e,t,n){e.onclick=function(){for(var o=0;o<n.length;o++)t===parseInt(o,10)?n[o].classList.contains("active")||(n[o].classList.add("active"),s[o].style.display="block"):(n[o].classList.remove("active"),s[o].style.display="none")}}):null}):null,U=JSON.parse("true"),k=document.getElementById("root"),v=document.getElementById("toggleToLight"),O=document.getElementById("toggleToDark"),U||(k.className="theme__light",localStorage.setItem("theme","light")),O&&(O.onclick=function(){k.className="theme__dark",localStorage.setItem("theme","dark"),v.className="navbar__icons--icon",O.className="hide"}),v&&(v.onclick=function(){k.className="theme__light",localStorage.setItem("theme","light"),v.className="hide",O.className="navbar__icons--icon"}),document.querySelectorAll(".menu__list").forEach(function(e){e.classList.contains("active")&&(e.style.maxHeight=e.scrollHeight+"px")}),document.querySelectorAll(".menu__title--collapse").forEach(function(e){e.addEventListener("click",function(){var s,n=this.nextElementSibling,o=this.querySelector(".menu__title--icon");if(!n)return null;for(s=e.parentNode;s.classList.contains("menu__list")&&s.classList.contains("active");)s.style.maxHeight=100*s.children.length+"px",s=s.parentNode;n.style.maxHeight?(n.style.maxHeight=null,n.classList.remove("active"),o.classList.add("right"),_==="rtl"?o.classList.remove("downrtl"):o.classList.remove("down")):(n.style.maxHeight=n.scrollHeight+"px",n.classList.add("active"),o.classList.remove("right"),_==="rtl"?o.classList.add("downrtl"):o.classList.add("down"))})}),q=document.getElementById("mobileLogo"),h=document.getElementById("myModal"),j=document.getElementById("myDrawer"),G=document.querySelector(".drawer__close"),X=function(){h.style.opacity=1,_==="rtl"?(h.style.right=0,j.style.right=0):(h.style.left=0,j.style.left=0)},H=function(){h.style.opacity=0,_==="rtl"?j.style.right="-100%":j.style.left="-100%",setTimeout(function(){_==="rtl"?h.style.right="-100%":h.style.left="-100%"},250)},q.onclick=function(){X(),localStorage.setItem("isDrawerOpen","true")},h.onclick=function(){H(),localStorage.setItem("isDrawerOpen","false")},G.onclick=function(){H(),localStorage.setItem("isDrawerOpen","false")},x=window.pageYOffset||document.documentElement.scrollTop,l=document.querySelector(".toc"),B=l?l.querySelector("#TableOfContents"):null,w=document.querySelector(".single__contents"),P=document.querySelectorAll("div[data-bgimg]"),m=JSON.parse('["h2","h3","h4"]'),m?m=m.toString():m="h1, h2, h3, h4, h5, h6",S=JSON.parse("null"),Q=JSON.parse("false");function z(e){Q&&S&&Object.keys(S).length&&(S.height<=e?P.forEach(function(e){e.setAttribute("data-bgimg","false")}):P.forEach(function(e){e.setAttribute("data-bgimg","true")}))}z(x),window.onscroll=function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>x?(w?w.querySelectorAll(m.toString()).forEach(function(e){if(document.documentElement.scrollTop>=e.offsetTop&&B){var t=e.getAttribute("id");l.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),l.querySelector('a[href="#'+t+'"]')?l.querySelector('a[href="#'+t+'"]').classList.add("active"):null}}):null,z(e)):(w?w.querySelectorAll(m.toString()).forEach(function(e){if(document.documentElement.scrollTop>=e.offsetTop&&B){var t=e.getAttribute("id");l.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),l.querySelector('a[href="#'+t+'"]')?l.querySelector('a[href="#'+t+'"]').classList.add("active"):null}}):null,z(e)),x=e<=0?0:e},r=document.querySelector("#search-mobile"),F=document.querySelector(".mobile-search"),D=document.querySelector("#mobileSearchBtn"),N=document.querySelector("#search-mobile-close"),p=document.querySelector("#search-mobile-container"),c=document.querySelector("#search-mobile-results"),f=document.querySelector("html"),F&&(F.style.display="none"),D?D.addEventListener("click",function(){p&&(p.style.display="block"),r&&r.focus(),f&&(f.style.overflowY="hidden")}):null,N?N.addEventListener("click",function(){if(p&&(p.style.display="none"),r&&(r.value=""),c)for(;c.firstChild;)c.removeChild(c.firstChild);f&&(f.style.overflowY="visible")}):null,r?r.addEventListener("keydown",function(e){if(e.key==="Escape"){if(p&&(p.style.display="none"),r&&(r.value=""),c)for(;c.firstChild;)c.removeChild(c.firstChild);f&&(f.style.overflowY="visible")}}):null,$=localStorage.getItem("theme"),I=document.getElementById("root"),K=document.querySelectorAll(".select-theme"),b=document.querySelectorAll(".select-theme__item"),$&&(b?b.forEach(function(e){e.text.trim()===$?e.classList.add("is-active"):e.classList.remove("is-active")}):null),b?b.forEach(function(e){e.addEventListener("click",function(e){var n,t=e.target.text.trim();localStorage.setItem("theme",t),I.removeAttribute("class"),I.classList.add(`theme__${t}`),K.forEach(function(e){e.querySelectorAll("a").forEach(function(e){e.classList&&(e.text.trim()===t?e.classList.contains("is-active")||e.classList.add("is-active"):e.classList.contains("is-active")&&e.classList.remove("is-active"))})}),window.mermaid&&(t==="dark"||t==="hacker"?(mermaid.initialize({theme:"dark"}),location.reload()):(mermaid.initialize({theme:"default"}),location.reload())),n=document.querySelector("iframe"),n&&n.contentWindow.postMessage({type:"set-theme",theme:t==="dark"||t==="hacker"?"photon-dark":t==="kimbie"?"github-dark-orange":"github-light"},"https://utteranc.es")})}):null,ee=JSON.parse('""'),n=null,t=null,s=null,g=JSON.parse("true"),Y=JSON.parse("true"),y=null,Y&&function(){var t=new XMLHttpRequest;t.open("GET",oe+ee+"/index.json"),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.onload=function(){t.status===200?y=new Fuse(JSON.parse(t.response.toString("utf-8")),{keys:["title","description","content"],includeMatches:g,shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1}):console.error(`[${t.status}]Error:`,t.statusText)},t.send()}();function le(e,t){var n,s,o=document.createElement("li");o.className="search-result__item",n=document.createElement("a"),n.innerHTML=t.title,n.setAttribute("class","search-result__item--title"),n.setAttribute("href",t.permalink),s=document.createElement("div"),s.setAttribute("class","search-result__item--desc"),t.description?s.innerHTML=t.description:t.content&&(s.innerHTML=t.content.substring(0,80)),o.appendChild(n),o.appendChild(s),e.appendChild(o)}function ce(e,t){var n,s,o,i=document.createElement("li");if(i.className="search-result__item",n=null,o=document.createElement("a"),o.innerHTML=t.item.title,o.setAttribute("class","search-result__item--title"),o.setAttribute("href",t.item.uri),t.matches&&t.matches.length){for(s=0;s<t.matches.length;s++)"title"===t.matches[s].key&&(o=document.createElement("a"),o.innerHTML=a(t.matches[s].value,t.matches[s].indices),o.setAttribute("class","search-result__item--title"),o.setAttribute("href",t.item.uri)),"description"===t.matches[s].key?(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=a(t.item.description,t.matches[s].indices)):"content"===t.matches[s].key?n||(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=a(t.item.content.substring(0,80),t.matches[s].indices)):t.item.description?(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=t.item.description):(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=t.item.content.substring(0,80));i.appendChild(o),n&&i.appendChild(n),i&&e.appendChild(i)}}function Z(e,s){n=document.getElementById("search-results"),t=document.getElementById("search-menu"),n.setAttribute("class","dd is-active");var i,o=document.createElement("ul");for(o.setAttribute("class","dd-content search-content"),s.length?s.forEach(function(e){var t,s,i=document.createElement("li"),n=document.createElement("a");n.setAttribute("href",e.uri),n.setAttribute("class","dd-item"),n.appendChild(i),s=document.createElement("div"),s.innerHTML=e.title,s.setAttribute("class","search-result__item--title"),t=document.createElement("div"),t.setAttribute("class","search-result__item--desc"),e.description?t.innerHTML=e.description:e.content&&(t.innerHTML=e.content.substring(0,80)),i.appendChild(s),i.appendChild(t),o.appendChild(n)}):(i=document.createElement("li"),i.setAttribute("class","dd-item"),i.innerText="No results found",o.appendChild(i));t.hasChildNodes();)t.removeChild(t.lastChild);t.appendChild(o)}function J(e,s){n=document.getElementById("search-results"),t=document.getElementById("search-menu"),n.setAttribute("class","dd is-active");var i,o=document.createElement("ul");for(o.setAttribute("class","dd-content search-content"),s.length?s.forEach(function(e){var n,s,r=document.createElement("li"),i=document.createElement("a"),t=null;if(i.setAttribute("href",e.item.uri),i.setAttribute("class","dd-item"),i.appendChild(r),s=document.createElement("div"),s.innerHTML=e.item.title,s.setAttribute("class","search-result__item--title"),e.matches&&e.matches.length){for(n=0;n<e.matches.length;n++)"title"===e.matches[n].key&&(s.innerHTML=a(e.matches[n].value,e.matches[n].indices)),"description"===e.matches[n].key?(t=document.createElement("div"),t.setAttribute("class","search-result__item--desc"),t.innerHTML=a(e.item.description,e.matches[n].indices)):"content"===e.matches[n].key?t||(t=document.createElement("div"),t.setAttribute("class","search-result__item--desc"),t.innerHTML=a(e.item.content.substring(0,80),e.matches[n].indices)):e.item.description?(t=document.createElement("div"),t.setAttribute("class","search-result__item--desc"),t.innerHTML=e.item.description):(t=document.createElement("div"),t.setAttribute("class","search-result__item--desc"),t.innerHTML=e.item.content.substring(0,80));r.appendChild(s),t&&r.appendChild(t),o.appendChild(i)}}):(i=document.createElement("li"),i.setAttribute("class","dd-item"),i.innerText="No results found",o.appendChild(i));t.hasChildNodes();)t.removeChild(t.lastChild);t.appendChild(o)}function ne(e,t){n=document.getElementById("search-mobile-results");var i,s=document.createElement("div");s.setAttribute("class","mobile-search__content"),t.length>0?t.forEach(function(e){var t=document.createElement("a");t.setAttribute("href",e.uri),t.innerHTML='<div class="mobile-search__item"><div class="mobile-search__item--title">📄 '+e.title+'</div><div class="mobile-search__item--desc">'+(e.description?e.description:e.content)+"</div></div>",s.appendChild(t)}):(i=document.createElement("span"),s.appendChild(i));let o=document.getElementById("search-mobile-results");for(;o.firstChild;)o.removeChild(o.firstChild);n.appendChild(s)}function se(e,t){n=document.getElementById("search-mobile-results");var i,s=document.createElement("div");s.setAttribute("class","mobile-search__content"),t.length?t.forEach(function(e){var n,o,i=document.createElement("li"),r=document.createElement("a"),t=null;if(r.setAttribute("href",e.item.uri),r.appendChild(i),i.setAttribute("class","mobile-search__item"),o=document.createElement("div"),o.innerHTML=e.item.title,o.setAttribute("class","mobile-search__item--title"),e.matches&&e.matches.length){for(n=0;n<e.matches.length;n++)"title"===e.matches[n].key&&(o.innerHTML=a(e.matches[n].value,e.matches[n].indices)),"description"===e.matches[n].key?(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=a(e.item.description,e.matches[n].indices)):"content"===e.matches[n].key?t||(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=a(e.item.content.substring(0,150),e.matches[n].indices)):e.item.description?(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=e.item.description):(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=e.item.content.substring(0,150));i.appendChild(o),t&&i.appendChild(t),s.appendChild(r)}}):(i=document.createElement("span"),s.appendChild(i));let o=document.getElementById("search-mobile-results");for(;o.firstChild;)o.removeChild(o.firstChild);n.appendChild(s)}function a(e,t){if(!t)return e;var n="",s=0;return t.forEach(function(t){if(t[0]===t[1])return null;n+=""+e.substring(s,t[0])+'<span class="search__highlight">'+e.substring(t[0],t[1]+1)+"</span>",s=t[1]+1}),n+=e.substring(s),n}i=document.getElementById("search"),L=document.getElementById("search-mobile"),o=document.getElementById("search-results"),i?i.addEventListener("input",function(e){if(!e.target.value|window.innerWidth<770)return o?o.setAttribute("class","dd"):null,null;s=e.target.value;var t,n=y.search(e.target.value);g?J(s,n):Z(s,n),t=o.querySelectorAll(".dd-item"),t?t.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})}):null}):null,i?i.addEventListener("blur",function(){if(window.innerWidth<770)return null;o?o.setAttribute("class","dd"):null}):null,i?i.addEventListener("click",function(e){if(window.innerWidth<770)return null;if(!e.target.value)return o?o.setAttribute("class","dd"):null,null;s=e.target.value;var t,n=y.search(e.target.value);g?J(s,n):Z(s,n),t=o.querySelectorAll(".dd-item"),t?t.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})}):null}):null,ae=document.getElementById("search-menu"),re=document.querySelector("#search-menu .dd-item.is-active"),e=null,ie=null,R=350,i?i.addEventListener("keydown",function(t){if(window.innerWidth<770)return null;var o,s=document.querySelectorAll("#search-menu .dd-item");if(t.key==="ArrowDown"){e===null?(e=0,s[e].classList.remove("is-active")):(s[e].classList.remove("is-active"),e=e===s.length-1?0:e+1),s[e].classList.add("is-active");let t=s[e].offsetTop+s[e].clientHeight-R;t>0?document.querySelector(".search-content").scrollTop+=s[e].getBoundingClientRect().height:e===0&&(document.querySelector(".search-content").scrollTop=0)}else if(t.key==="ArrowUp"){e===null?(e=s.length-1,s[e].classList.remove("is-active")):(s[e].classList.remove("is-active"),e=e===0?s.length-1:e-1),s[e].classList.add("is-active");let t=s[e].offsetTop+s[e].clientHeight-R;t<0?document.querySelector(".search-content").scrollTop-=s[e].getBoundingClientRect().height:document.querySelector(".search-content").scrollTop=t+s[e].getBoundingClientRect().height}else t.key==="Enter"?(o=s[e].getAttribute("href"),o&&(location.href=o)):t.key==="Escape"&&(t.target.value=null,n&&n.classList.remove("is-active"))}):null,L?L.addEventListener("input",function(e){if(!e.target.value){let e=document.getElementById("search-mobile-results");for(;e.firstChild;)e.removeChild(e.firstChild);return null}s=e.target.value;var t,n=y.search(e.target.value);g?se(s,n):ne(s,n),t=o.querySelectorAll(".dd-item"),t?t.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})}):null}):null}</script><link rel=stylesheet href=/css/main.min.css><meta name=description content="Envoyer des microtransactions bitcoin n'était pas possible jusqu'à l'arrivée de la technologie Lightning Network. C'est un système qui permet de faire des transactions quasi-instantannées et avec peu de frais."><meta name=keywords content><meta name=created content="2019-12-31T00:00:00+0000"><meta name=modified content="2019-12-31T00:00:00+0000"><meta name=author content="Jonathan Serra"><meta property="og:site_name" content="Blocs.fr"><meta property="og:title" content="Installer un nœud Lightning Network"><meta property="og:url" content="https://blocs.fr/blog/installer-un-noeud-lightning-network/"><meta property="og:type" content="article"><meta property="og:description" content="Envoyer des microtransactions bitcoin n'était pas possible jusqu'à l'arrivée de la technologie Lightning Network. C'est un système qui permet de faire des transactions quasi-instantannées et avec peu de frais."><meta property="og:image" content="https://blocs.fr/images/thumbnails/lnd.jpg"><meta name=generator content="Hugo 0.101.0"><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><link rel=canonical href=https://blocs.fr/blog/installer-un-noeud-lightning-network/><link rel=manifest href=/manifest.json><link rel=apple-touch-icon sizes=57x57 href=/favicon/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/favicon/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/favicon/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/favicon/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/favicon/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/favicon/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/favicon/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/favicon/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/favicon/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/favicon/android-icon-192x192.png><link rel=icon type=image/png sizes=192x192 href=/favicon/android-icon-512x512.png><link rel=icon type=image/png sizes=32x32 href=/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon/favicon-16x16.png><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Installer un nœud Lightning Network","datePublished":"2019-12-31T00:00:00Z","dateModified":"2019-12-31T00:00:00Z","url":"https://blocs.fr/blog/installer-un-noeud-lightning-network/","description":"Envoyer des microtransactions bitcoin n'était pas possible jusqu'à l'arrivée de la technologie Lightning Network. C'est un système qui permet de faire des transactions quasi-instantannées et avec peu de frais.","keywords":["bitcoin","lightning network","debian","bitcoin-cli"],"image":"https://blocs.fr/images/thumbnails/lnd.jpg","author":{"@type":"Person","name":"Jonathan Serra"},"mainEntityOfPage":{"@type":"Person","@id":"https://blocs.fr","name":"Jonathan Serra","image":"https://blocs.fr/images/jonathan_blocs_serra.png"},"publisher":{"@type":"Person","name":"Jonathan Serra","jobTitle":"CTO","alumniOf":"UTT","gender":"male","nationality":"French","url":"https://blocs.fr"},"sameAs":["https://github.com/Chaine-de-Blocs","https://www.twitch.tv/codequietw","https://www.youtube.com/c/Cha%C3%AEnedeBlocs","https://twitter.com/_blocs"]}</script></head><body id=root class=theme__dark><script>var rootElem=document.getElementById("root"),themeOptions=JSON.parse('["dark","light"]'),localTheme=localStorage.getItem("theme");localTheme&&themeOptions&&themeOptions.length>0&&(themeOptions.includes(localTheme)?rootElem.className=`theme__${localTheme}`:rootElem.className=`theme__${themeOptions[0]}`)</script><div id=container><div id=myDrawer class=drawer><div class=drawer__header><a href=/ class=drawer__header--text>Blocs.fr</a><div class=grow></div><div class=drawer__close><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M18.3 5.71c-.39-.39-1.02-.39-1.41.0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41.0s-.39 1.02.0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02.0 1.41s1.02.39 1.41.0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02.0-1.4z"/></svg></div></div><div class=drawer__body><div class=menu><h6 class=menu__label>Installer un nœud Lightning Network</h6><ul><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-1/ class=menu__title>1 - Mastering the Lightning Network - Comprendre Bitcoin et le Lightning Network</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-10/ class=menu__title>10 - Mastering the Lightning Network - Les messages sur Lightning Network (TLV, e2e encryption)</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-11/ class=menu__title>11 - Mastering the Lightning Network - Informations Paiement et vie privée en vidéo</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-12/ class=menu__title>12 - Mastering the Lightning Network - Chapitre final en vidéo</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-2/ class=menu__title>2 - Mastering the Lightning Network - Paiement avec Bitcoin et Lightning Network</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-3/ class=menu__title>3 - Mastering the Lightning Network - Transaction d'engagement (commitment tx)</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-4/ class=menu__title>4 - Mastering the Lightning Network - Créer un réseau de nœud Lightning Network</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-5/ class=menu__title>5 - Mastering the Lightning Network - Installer un serveur Bitcoin et LN</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-6/ class=menu__title>6 - Mastering the Lightning Network - Comprendre la commitment transaction</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-7/ class=menu__title>7 - Mastering the Lightning Network - Routage, secret de paiement et HTLC sur LN</a></li><li><a href=https://blocs.fr/blog/mastering-the-lightning-network-9/ class=menu__title>9 - Mastering the Lightning Network - Onion routing, Gossip protocol et Path Finding</a></li><li><a href=https://blocs.fr/blog/le-developpement-blockchain-par-ou-commencer/ class=menu__title>Le développement Blockchain, par où commencer ?</a></li><li><a href=https://blocs.fr/blog/bitcoin-et-lightning-anonyme-avec-tor/ class=menu__title>Servir Bitcoin et Lightning Network en étant anonyme avec Tor</a></li><li class=active><a href=https://blocs.fr/blog/installer-un-noeud-lightning-network/ class="menu__title active">Installer un nœud Lightning Network</a></li><li><a href=https://blocs.fr/blog/configurer-un-noeud-lightning-network/ class=menu__title>Configurer son nœud Bitcoin Lightning Network</a></li></ul></div><script>var menuTitle=document.querySelectorAll(".menu__title"),modal=document.getElementById("myModal"),drawer=document.getElementById("myDrawer"),closeDrawer=function(){setTimeout(function(){modal.style.opacity=0,drawer.style.left="-100%",modal.style.left="-100%"},250)};menuTitle?menuTitle.forEach(function(e){e.onclick=function(){closeDrawer(),localStorage.setItem("isDrawerOpen","false")}}):null</script></div></div><div id=myModal class=modal></div><script>var isDrawerOpen=localStorage.getItem("isDrawerOpen"),modal=document.getElementById("myModal"),drawer=document.getElementById("myDrawer"),languagedir=JSON.parse('"ltr"'),openDrawer=function(){modal.style.opacity=1,languagedir==="rtl"?(modal.style.right=0,drawer.style.right=0):(modal.style.left=0,drawer.style.left=0)};isDrawerOpen&&isDrawerOpen==="true"&&openDrawer()</script><nav class=nav><div class=navbar__wrapper data-bgimg=false><div class=divider><div class="navbar lmr"><div id=siteLogo class=navbar__logo--wrapper>&nbsp;&nbsp;
<a href=/ title rel=home class=navbar__logo--text-link><h6 class=navbar__logo--text>blocs</br>.fr</h6></a></div><div class=navbar__menu--wrapper><div id=tabletLogo class=hide><a href=/ rel=home class=navbar__logo--link><div class=navbar__icons--icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55.0 1-.45 1-1v-7h1.7c.46.0.68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34.0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55.0 1-.45 1-1z"/></svg></div></a></div><div id=mobileLogo class=hide><a href=# class=navbar__logo--link><div class=navbar__icons--icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M4 18h16c.55.0 1-.45 1-1s-.45-1-1-1H4c-.55.0-1 .45-1 1s.45 1 1 1zm0-5h16c.55.0 1-.45 1-1s-.45-1-1-1H4c-.55.0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55.0 1-.45 1-1s-.45-1-1-1H4c-.55.0-1 .45-1 1z"/></svg></div></a></div><span id=navMenuMobile class=hide><button id=navCollapseBtn class=navbar__dropdown--title aria-label="Section Menu" data-dir=ltr>
blog<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentcolor" d="M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41.0s.39 1.02.0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41.0L6.7 10.7c-.39-.39-.39-1.02.0-1.41.39-.38 1.03-.39 1.42.0z"/></svg></button><div class=navbar__collapse data-open=false><ul><li class="navbar__menu--mobile-item active"><a href=/blog class=active>Blog</a></li></ul></div></span><ul id=navMenu class=navbar__menu><li class="navbar__menu--item active"><a href=/blog data-bgimg=false>Blog</a></li></ul></div><div class=grow></div><div id=siteSearch><div class=search data-bgimg=false><span class=icon><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentcolor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49.0s.41-1.08.0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg></span><input id=search aria-label="Site Search" class=input type=text autocomplete=off placeholder=Search><div id=search-results class=dropdown><div id=search-menu class=dropdown-menu></div></div></div></div><div id=mobileSearch class=hide><div id=mobileSearchBtn class=mobile-search__btn><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentcolor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49.0s.41-1.08.0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg></div><div id=search-mobile-container class="mobile-search hide"><div class=mobile-search__top><input id=search-mobile type=text aria-label="Mobile Search" placeholder=Search... class=mobile-search__top--input><div id=search-mobile-close class=mobile-search__top--icon><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path opacity=".87" fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41.0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/></svg></div></div><div id=search-mobile-results class=mobile-search__body></div></div></div><div class=navbar__icons><button id=toggleToDark class=navbar__icons--icon aria-label="Toggle to dark mode"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path fill="currentcolor" d="M20 15.31 23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31.0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></svg></button>
<button id=toggleToLight class=navbar__icons--icon aria-label="Toggle to light mode"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path fill="currentcolor" d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31.0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21.0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/></svg></button>
<script>var theme=localStorage.getItem("theme"),toggleToLightBtn=document.getElementById("toggleToLight"),toggleToDarkBtn=document.getElementById("toggleToDark");theme&&theme==="dark"?(toggleToLightBtn.className="navbar__icons--icon",toggleToDarkBtn.className="hide"):(toggleToLightBtn.className="hide",toggleToDarkBtn.className="navbar__icons--icon")</script><div class=navbar__icons--icon><a href=https://github.com/Chaine-de-Blocs title="Github de blocs.fr" aria-label="Github de blocs.fr" target=_blank rel=noreferrer><svg fill="currentcolor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22"><path d="M10.9 2.1c-4.6.5-8.3 4.2-8.8 8.7-.5 4.7 2.2 8.9 6.3 10.5C8.7 21.4 9 21.2 9 20.8v-1.6s-.4.1-.9.1c-1.4.0-2-1.2-2.1-1.9-.1-.4-.3-.7-.6-1C5.1 16.3 5 16.3 5 16.2 5 16 5.3 16 5.4 16c.6.0 1.1.7 1.3 1 .5.8 1.1 1 1.4 1 .4.0.7-.1.9-.2.1-.7.4-1.4 1-1.8-2.3-.5-4-1.8-4-4 0-1.1.5-2.2 1.2-3C7.1 8.8 7 8.3 7 7.6c0-.4.0-.9.2-1.3.0-.2.2-.3.3-.3h.1C8.1 6.1 9.1 6.4 10 7.3c.6-.2 1.3-.3 2-.3s1.4.1 2 .3c.9-.9 2-1.2 2.5-1.3h.1c.2.0.3.1.4.3.0.4.0.9.0 1.3.0.8-.1 1.2-.2 1.4.7.8 1.2 1.8 1.2 3 0 2.2-1.7 3.5-4 4 .6.5 1 1.4 1 2.3v2.6c0 .3.3.6.7.5 3.7-1.5 6.3-5.1 6.3-9.3.0-6-5.1-10.7-11.1-10z"/></svg></a></div></div></div></div></div></nav><script>var siteLogo=document.getElementById("siteLogo"),tabletLogo=document.getElementById("tabletLogo"),mobileLogo=document.getElementById("mobileLogo"),navMenu=document.getElementById("navMenu"),navMenuMobile=document.getElementById("navMenuMobile"),siteSearch=document.getElementById("siteSearch"),mobileSearch=document.getElementById("mobileSearch");enquire.register("screen and (max-width:1280px)",{match:function(){siteLogo.className="navbar__logo--wrapper",tabletLogo.className="hide",mobileLogo.className="hide",navMenu.className="navbar__menu",navMenuMobile.className="hide",siteSearch.className="",mobileSearch.className="hide"},unmatch:function(){siteLogo.className="navbar__logo--wrapper",tabletLogo.className="hide",mobileLogo.className="hide",navMenu.className="navbar__menu",navMenuMobile.className="hide",siteSearch.className="",mobileSearch.className="hide"}}).register("screen and (max-width:960px)",{match:function(){siteLogo.className="hide",tabletLogo.className="",mobileLogo.className="hide",navMenu.className="navbar__menu",navMenuMobile.className="hide",siteSearch.className="hide",mobileSearch.className="navbar__icons--icon"},unmatch:function(){siteLogo.className="navbar__logo--wrapper",tabletLogo.className="hide",mobileLogo.className="hide",navMenu.className="navbar__menu",navMenuMobile.className="hide",siteSearch.className="",mobileSearch.className="hide"}}).register("screen and (max-width:600px)",{match:function(){siteLogo.className="hide",tabletLogo.className="hide",mobileLogo.className="",navMenu.className="hide",navMenuMobile.className="",siteSearch.className="hide",mobileSearch.className="navbar__icons--icon"},unmatch:function(){siteLogo.className="hide",tabletLogo.className="",mobileLogo.className="hide",navMenu.className="navbar__menu",navMenuMobile.className="hide",siteSearch.className="hide",mobileSearch.className="navbar__icons--icon"}})</script><div class=mid><div class=divider><nav id=single-menu class=l data-dir=ltr></nav><article id=list-main class=m data-dir=ltr><nav class=breadcrumb aria-label=breadcrumbs data-is-blog=true><ol><li><a href=https://blocs.fr/ class=capitalize>Blocs.fr</a></li><li><a href=https://blocs.fr/blog/ class=capitalize>Blog</a></li><li class=is-active><span>Installer un nœud Lightning Network</span></li></ol></nav><div class=single data-display=block><div class=single__title>Installer un nœud Lightning Network</div><div class=single__meta><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="currentcolor"><path d="M4 4H20V8H4z" opacity=".3"/><path d="M6 1H8V5H6zM16 1h2V5H16z"/><path d="M19 3H5C3.9 3 3 3.9 3 5v14c0 1.1.9 2 2 2h14c1.1.0 2-.9 2-2V5C21 3.9 20.1 3 19 3zm0 16H5V9h14V19zM19 7H5V5h14V7z"/></svg><time title="Ecrit le">31 Dec 2019</time> &nbsp;&nbsp;<svg fill="#000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16"><path fill="currentcolor" d="M9 1V3h6V1H9zm9.958984 1.7929688-1.292968 1.5253906 2.949218 2.5 1.292969-1.5253906-2.949219-2.5zM12 4C7.0225467 4 3 8.0225467 3 13c0 4.977453 4.0225467 9 9 9 4.977453.0 9-4.022547 9-9 0-4.9774533-4.022547-9-9-9zm0 2c3.910547.0 7 3.0894533 7 7 0 3.910547-3.089453 7-7 7-3.9105467.0-7-3.089453-7-7 0-3.9105467 3.0894533-7 7-7zM11 8v6h2V8H11z"/></svg> <span title="Temps de lecture">15 min. de lecture</span> &nbsp;&nbsp;<svg fill="#000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="16" height="16"><path fill="currentcolor" d="M16 5c-3.855469.0-7 3.144531-7 7 0 2.410156 1.230469 4.550781 3.09375 5.8125C8.527344 19.34375 6 22.882813 6 27H8c0-4.429687 3.570313-8 8-8 4.429688.0 8 3.570313 8 8h2c0-4.117187-2.527344-7.65625-6.09375-9.1875C21.769531 16.550781 23 14.410156 23 12c0-3.855469-3.144531-7-7-7zm0 2c2.773438.0 5 2.226563 5 5 0 2.773438-2.226562 5-5 5-2.773437.0-5-2.226562-5-5 0-2.773437 2.226563-5 5-5z"/></svg> <span title="ECRIT PAR">Jonathan Serra</span></div><article class=single__contents data-dir=ltr><h2 id=matériels-requis>Matériels requis</h2><p>Avant tout il va vous falloir du matériel puisqu&rsquo;un nœud est un serveur qui fourni un service. Ne vous inquiétez pas vous n&rsquo;aurez pas besoin d&rsquo;un serveur coûteux, bruyant et consommateur. Vous aurez besoin d&rsquo;un nano-ordinateur, c&rsquo;est petit, c&rsquo;est silencieux et la consommation est basse, voilà la liste :</p><ul><li><strong>Raspberry Pi 3</strong> : <a href=https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/ target=_blank>ce matériel</a> est peu coûteux et a les capacités optimales pour avoir un nœud LN efficace. Veillez à acquérir un pack contenant le Raspberry Pi, l&rsquo;alimentation secteur et une carte SSD. Ces éléments sont compris dans le pack officiel ;</li><li><strong>Un disque dur SSD de 500go ou plus</strong> : vous devrez télécharger la blockchain de Bitcoin qui fait plus de 200 giga octects. Je recommande un disque dur SSD (électronique) à préférer au disque dur mécanique qui a une moins bonne tolérance à la panne. J&rsquo;ai personnellement un disque dur mécanique ;</li><li><strong>Un écran port HDMI</strong> : ce sera nécessaire pour faire les premières configurations ;</li><li><strong>Un clavier USB</strong> : ce sera également nécessaire pour faire les premières configurations ;</li><li><strong>Un câble RJ45</strong> : ce sera pour connecter votre Raspberry Pi à Internet. Il est possible d&rsquo;avoir une connexion wifi en y connectant une antenne ou un dongle. Cependant je déconseille cette approche pour des raisons de sécurité et également pour éviter les contraintes d&rsquo;installation de drivers pas toujours disponibles sur les distributions Linux ;</li></ul><h2 id=installer-raspian-stretch-lite>Installer Raspian Stretch Lite</h2><p><em>Cette étape est optionnelle mais recommandée.</em></p><p>Avant d&rsquo;entamer la configuration de votre Raspberry installez un nouveau système d&rsquo;exploitation plus léger que celui installé par défaut : c&rsquo;est <a href=https://www.raspberrypi.org/downloads/raspbian/ target=_blank>Raspian Stretch Lite</a>.</p><blockquote><p>Stretch Lite est un système d&rsquo;exploitation dans le but d&rsquo;optimiser la consommation de ressources sur notre système.</p></blockquote><p>Installez Raspian Stretch Lite sur la carte SD fournie avec le Raspberry Pi. Il vous faudra la formater. Avec Windows le logiciel <a href=https://www.balena.io/etcher/ target=_blank>Etcher</a> est d&rsquo;une grande aide. Sur <a href=https://computers.tutsplus.com/articles/how-to-flash-an-sd-card-for-raspberry-pi--mac-53600 target=_blank>Mac</a> et <a href=https://www.raspberrypi.org/documentation/installation/installing-images/linux.md target=_blank>distributions Linux</a> préférez la ligne de commande.</p><h2 id=configurer-le-raspberry-pi>Configurer le Raspberry Pi</h2><p>Ici je vais considérer que vous êtes sur Raspian Stretch Lite, mais pas d&rsquo;inquiétude vous pouvez tout suivre avec le système d&rsquo;origine, veillez à ouvrir le terminal car nous allons travailler en ligne de commande, rien de mieux pour se familiariser avec l&rsquo;environnement Linux.</p><p>Les accès par défaut sont les suivants</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>raspberry login: pi
</span></span><span class=line><span class=cl>Password: raspberry</span></span></code></pre></td></tr></table></div></div><blockquote><p>Si vous n&rsquo;êtes pas habitué au terminal Debian, en tapant votre mot de passe rien ne s&rsquo;affiche, c&rsquo;est tout à faire normal, ce que vous tapez est quand même pris en compte. C&rsquo;est une protection au même titre que les étoiles qu&rsquo;on voit sur les formulaires web.</p></blockquote><h3 id=activer-et-configurer-ssh>Activer et configurer SSH</h3><p>Actuellement vous travaillez avec un écran et un clavier branchés sur votre petit Rapsberry&mldr; Et c&rsquo;est peut-être pas pratique. J&rsquo;ai une bonne nouvelle, on va pouvoir faire en sorte de gérer votre système sans avoir besoin d&rsquo;y accéder physiquement. Vous allez le contrôler à distance grâce au protocole SSH !</p><blockquote><p>SSH signifie Secure Shell, c&rsquo;est un protocole de réseau ingénieux qui permet l&rsquo;exécution de commandes à distance en bénéficiant de canaux cryptés. Il est possible d&rsquo;utiliser SSH au sein d&rsquo;un réseau local mais aussi en passant par Internet par exemple. Sachez que par défaut la configuration du SSH dans Raspian permet l&rsquo;authentification par login et mot de passe.</p></blockquote><p>Par défaut la connexion SSH est désactivée pour des raisons de sécurité, alors activez le en tapant ce qui suit</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl> pi@raspberrypi:~ $ sudo raspi-config</span></span></code></pre></td></tr></table></div></div><p>Un menu graphique peu charmant s&rsquo;ouvre, sélectionnez <code>Interfacing Options (Configure connections to peripherals)</code> puis <code>ssh (Enable or disable ssh server)</code> ensuite sélectionnez <code>Yes</code>, <code>OK</code> et enfin <code>Finish</code>.</p><p>Revenez sur le terminal et redémarrez le service ssh</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl> pi@raspberrypi:~ $ sudo systemctl restart ssh</span></span></code></pre></td></tr></table></div></div><p>Votre SSH est maintenant activé.</p><p>À la bonheur, vous pouvez dès maintenant vous connecter à votre Raspberry à distance, depuis un autre ordinateur. D&rsquo;abord récupérez l&rsquo;adresse IP de votre Raspberry vous en aurez besoin, utilisez la commande <code>ifconfig</code> pour l&rsquo;afficher. Voilà un extrait de mon <code>ifconfig</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pi@raspberrypi:~ $ ifconfig
</span></span><span class=line><span class=cl>eth0: <span class=nv>flags</span><span class=o>=</span>4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;<span class=p>;</span>  mtu <span class=m>1500</span>
</span></span><span class=line><span class=cl>        inet 192.168.1.4 netmask 255.255.255.0  broadcast 192.168.1.255
</span></span><span class=line><span class=cl>        inet6 fe80::10e0:8a76:4fe4:c3c2  prefixlen <span class=m>64</span>  scopeid 0x20
</span></span><span class=line><span class=cl>        ether b8:27:eb:6a:3a:d9  txqueuelen <span class=m>1000</span>  <span class=o>(</span>Ethernet<span class=o>)</span>
</span></span><span class=line><span class=cl>        RX packets <span class=m>169483183</span>  bytes <span class=m>168117311599</span> <span class=o>(</span>156.5 GiB<span class=o>)</span>
</span></span><span class=line><span class=cl>        RX errors <span class=m>2</span>  dropped <span class=m>45841</span>  overruns <span class=m>0</span>  frame <span class=m>0</span>
</span></span><span class=line><span class=cl>        TX packets <span class=m>132373249</span>  bytes <span class=m>17426498366</span> <span class=o>(</span>16.2 GiB<span class=o>)</span>
</span></span><span class=line><span class=cl>        TX errors <span class=m>0</span>  dropped <span class=m>0</span> overruns <span class=m>0</span>  carrier <span class=m>0</span>  collisions <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>lo: <span class=nv>flags</span><span class=o>=</span>73&lt;UP,LOOPBACK,RUNNING&gt;<span class=p>;</span>  mtu <span class=m>65536</span>
</span></span><span class=line><span class=cl>        inet 127.0.0.1  netmask 255.0.0.0
</span></span><span class=line><span class=cl>        inet6 ::1  prefixlen <span class=m>128</span>  scopeid 0x10
</span></span><span class=line><span class=cl>        loop  txqueuelen <span class=m>1000</span>  <span class=o>(</span>Local Loopback<span class=o>)</span>
</span></span><span class=line><span class=cl>        RX packets <span class=m>39066126</span>  bytes <span class=m>154986068081</span> <span class=o>(</span>144.3 GiB<span class=o>)</span>
</span></span><span class=line><span class=cl>        RX errors <span class=m>0</span>  dropped <span class=m>0</span>  overruns <span class=m>0</span>  frame <span class=m>0</span>
</span></span><span class=line><span class=cl>        TX packets <span class=m>39066126</span>  bytes <span class=m>154986068081</span> <span class=o>(</span>144.3 GiB<span class=o>)</span>
</span></span><span class=line><span class=cl>        TX errors <span class=m>0</span>  dropped <span class=m>0</span> overruns <span class=m>0</span>  carrier <span class=m>0</span>  collisions <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>wlan0: <span class=nv>flags</span><span class=o>=</span>4099&lt;UP,BROADCAST,MULTICAST&gt;<span class=p>;</span>  mtu <span class=m>1500</span>
</span></span><span class=line><span class=cl>        ether b8:27:eb:3f:6f:8c  txqueuelen <span class=m>1000</span>  <span class=o>(</span>Ethernet<span class=o>)</span>
</span></span><span class=line><span class=cl>        RX packets <span class=m>0</span>  bytes <span class=m>0</span> <span class=o>(</span>0.0 B<span class=o>)</span>
</span></span><span class=line><span class=cl>        RX errors <span class=m>0</span>  dropped <span class=m>0</span>  overruns <span class=m>0</span>  frame <span class=m>0</span>
</span></span><span class=line><span class=cl>        TX packets <span class=m>0</span>  bytes <span class=m>0</span> <span class=o>(</span>0.0 B<span class=o>)</span>
</span></span><span class=line><span class=cl>        TX errors <span class=m>0</span>  dropped <span class=m>0</span> overruns <span class=m>0</span>  carrier <span class=m>0</span>  collisions <span class=m>0</span></span></span></code></pre></td></tr></table></div></div><p>Voyez en surligné mon adresse IP est <code>192.168.1.42</code> — puisque c&rsquo;est la réponse à tous les mystères de l&rsquo;univers. Vous la trouverez normalement sur le connecteur <code>eth0</code> et en <code>ipv4</code> qui est le format que j&rsquo;ai sélectionné et que je vous recommande pour éviter des configurations futures.</p><p>Avec votre ordinateur favori, que ce soit sur MacOS, Windows, Ubuntu, Trisquel ou TempleOS vous pouvez utiliser un outil qui permet de vous connecter à votre Raspberry avec SSH. Le plus simple avec MacOS ou une distribution Linux. Si vous n&rsquo;avez pas <code>ssh</code> de disponible en commande, veuillez installer <a href=https://www.openssh.com/ target=_blank>OpenSSH</a>. Voilà comment procéder avec votre terminal sachant que mon IP est <code>192.168.1.42</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>monpc@oumonmac:~ $ ssh-keygen -t rsa -b <span class=m>4096</span>
</span></span><span class=line><span class=cl>&gt;<span class=p>;</span> Generating public/private rsa key pair.
</span></span><span class=line><span class=cl>&gt;<span class=p>;</span> Enter a file in which to save the key <span class=o>(</span>/home/you/.ssh/id_rsa<span class=o>)</span>: <span class=o>[</span>Press enter<span class=o>]</span> Laissez par défaut
</span></span><span class=line><span class=cl>&gt;<span class=p>;</span> Enter passphrase <span class=o>(</span>empty <span class=k>for</span> no passphrase<span class=o>)</span>: <span class=o>[</span>Type a passphrase<span class=o>]</span> Votre mot de passe
</span></span><span class=line><span class=cl>&gt;<span class=p>;</span> Enter same passphrase again: <span class=o>[</span>Type passphrase again<span class=o>]</span> Confirmez votre mot de passe
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>monpc@oumonmac:~ $ ssh pi@192.168.1.42
</span></span><span class=line><span class=cl>pi@192.168.1.42<span class=err>&#39;</span>s password: Entrez votre mot de passe
</span></span><span class=line><span class=cl>Linux raspberrypi 4.14.71-v7+ <span class=c1>#1145 SMP Fri Sep 21 15:38:35 BST 2018 armv7l</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>The programs included with the Debian GNU/Linux system are free software<span class=p>;</span>
</span></span><span class=line><span class=cl>the exact distribution terms <span class=k>for</span> each program are described in the
</span></span><span class=line><span class=cl>individual files in /usr/share/doc/* /copyright.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
</span></span><span class=line><span class=cl>permitted by applicable law.
</span></span><span class=line><span class=cl>Last login: Tue Mar <span class=m>19</span> 02:04:32 <span class=m>2019</span> from 192.168.1.44
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>pi@raspberrypi:~ <span class=p>&amp;</span></span></span></code></pre></td></tr></table></div></div><p>Cette étape permet d&rsquo;avoir une clé RSA pour initialiser une communication chiffrée avec votre Raspberry et de connecter ensuite.</p><p>Il existe des solutions avec interface comme <a href=https://www.putty.org/ target=_blank>PuTTY</a> pour Windows. Vous devrez entrer l&rsquo;adresse IP de votre Raspberry, le login <code>pi</code> et le mot de passe <code>raspberry</code>.</p><h3 id=créer-un-utilisateur>Créer un utilisateur</h3><p>Afin de protéger votre installation du mieux que possible je recommande de créer un utilisateur prévu à cet usage. Nous l&rsquo;appellerons &ldquo;bitcoin&rdquo;.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pi@raspberrypi:~ $ adduser bitcoin
</span></span><span class=line><span class=cl>Adding user <span class=s1>&#39;bitcoin&#39;</span> ...
</span></span><span class=line><span class=cl>Adding new group <span class=s1>&#39;bitcoin&#39;</span> <span class=o>(</span>1001<span class=o>)</span> ...
</span></span><span class=line><span class=cl>Adding new user <span class=s1>&#39;bitcoin&#39;</span> <span class=o>(</span>1001<span class=o>)</span> with group <span class=s1>&#39;bitcoin&#39;</span> ...
</span></span><span class=line><span class=cl>Creating home directory <span class=s1>&#39;/home/bitcoin&#39;</span> ...
</span></span><span class=line><span class=cl>Copying files from <span class=s1>&#39;/etc/skel&#39;</span> ...
</span></span><span class=line><span class=cl>Enter new UNIX password: Mettez un mot de passe fort
</span></span><span class=line><span class=cl>Retype new UNIX password: Confirmez votre mot de passe
</span></span><span class=line><span class=cl>passwd: password updated successfully
</span></span><span class=line><span class=cl>Changing the user information <span class=k>for</span> bitcoin
</span></span><span class=line><span class=cl>Enter the new value, or press ENTER <span class=k>for</span> the default
</span></span><span class=line><span class=cl><span class=p>&amp;</span>nbsp<span class=p>;&amp;</span>nbsp<span class=p>;</span>Full Name <span class=o>[]</span>: Vous pouvez laisser tous ces champs vides
</span></span><span class=line><span class=cl><span class=p>&amp;</span>nbsp<span class=p>;&amp;</span>nbsp<span class=p>;</span>Room Number <span class=o>[]</span>:
</span></span><span class=line><span class=cl><span class=p>&amp;</span>nbsp<span class=p>;&amp;</span>nbsp<span class=p>;</span>Work Phone <span class=o>[]</span>:
</span></span><span class=line><span class=cl><span class=p>&amp;</span>nbsp<span class=p>;&amp;</span>nbsp<span class=p>;</span>Home Phone <span class=o>[]</span>:
</span></span><span class=line><span class=cl><span class=p>&amp;</span>nbsp<span class=p>;&amp;</span>nbsp<span class=p>;</span>Other <span class=o>[]</span>:
</span></span><span class=line><span class=cl>Is the information correct? <span class=o>[</span>Y/n<span class=o>]</span> Y</span></span></code></pre></td></tr></table></div></div><blockquote><p>Vous pouvez désormais vous connecter directement à l&rsquo;utilisateur &ldquo;bitcoin&rdquo; avec SSH en tapant par exemple <code>ssh bitcoin@192.168.1.42</code></p></blockquote><h2 id=préparer-le-disque-dur>Préparer le disque dur</h2><p>Vous aurez besoin de télécharger l&rsquo;entièreté de la blockchain Bitcoin qui fait <a href=https://bitinfocharts.com/bitcoin/ target=_blank>250go</a> à l&rsquo;heure où j&rsquo;écris ces lignes. Cela signifie que la petite carte SD du Raspberry ne peut pas mémoriser tout ça. On va faire en sorte que toutes les informations relatives à la blockchain résident dans le disque externe.</p><p>Une fois que vous avez branché votre disque dur sur votre Raspberry, vous devriez le retrouver en tapant la commande <code>df -h</code>. Cette commande va vous lister quelque chose qui ressemble à ce qui suit :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pi@raspberrypi:~ $ df -h
</span></span><span class=line><span class=cl>/dev/root        15G  4.2G  9.8G  30%
</span></span><span class=line><span class=cl>devtmpfs        460M     <span class=m>0</span>  460M   0% /dev
</span></span><span class=line><span class=cl>tmpfs           464M     <span class=m>0</span>  464M   0% /dev/shm
</span></span><span class=line><span class=cl>tmpfs           464M  6.2M  458M   2% /run
</span></span><span class=line><span class=cl>tmpfs           5.0M  4.0K  5.0M   1% /run/lock
</span></span><span class=line><span class=cl>tmpfs           464M     <span class=m>0</span>  464M   0% /sys/fs/cgroup
</span></span><span class=line><span class=cl>/dev/mmcblk0p1   44M   22M   22M  51% /boot
</span></span><span class=line><span class=cl>Highlight&gt;/dev/sda        458G  249G  186G  58% /home/bitcoin/.bitcoi&lt;/ Highlight &gt;tmpfs            93M     <span class=m>0</span>   93M   0% /run/user/1001</span></span></code></pre></td></tr></table></div></div><p>Vous devrez trouver un élément ayant la même capacité de stockage que votre disque. Mon disque fait 500go et on le trouve sur le chemin <code>/dev/sda</code>. En général on le devine dans la mesure où c&rsquo;est le seul disque ayant cette capacité. Notez ce nom quelque part, et retenez cette commande <code>df</code> qui est pratique pour gérer ses disques.</p><h3 id=formater-optionnel>Formater (optionnel)</h3><p>Votre disque dur doit maintenant être vierge (à moins que vous y avez enregistré la blockchain, dans ce cas ignorez cette étape). Tapez la commande <code>fdisk [votre disque]</code> où [votre disque] devient le nom de votre disque, dans mon exemple c&rsquo;est <code>fdisk /dev/sda</code>.</p><h3 id=monter-le-disque>Monter le disque</h3><p>Enfin il faut monter le disque sur le dossier de travail de Bitcoin, on va lui préparer sa maison et son nid douillet. Monter un disque signifie que nous allons associer un répertoire à un disque, octroyant une capacité de mémoire certaine à un répertoire. Et pour ce faire connectez vous à l&rsquo;utilisateur que nous avions précédemment créé <code>su bitcoin</code>, puis tapez <code>mkdir .bitcoin .lnd</code>.</p><p>Il ne vous reste plus qu&rsquo;à taper <code>mount &lt;votre disque> .bitcoin</code> où votre disque est le chemin trouvé avec <code>df</code>.</p><blockquote><p>mkdir signifie make directory, c&rsquo;est pour créer un dossier et .bitcoin est le nom du dossier. Par défaut nous travaillerons avec ce dossier pour la blockchain et les portefeuilles. Le &ldquo;.&rdquo; est un moyen de cacher le dossier, cependant en aucun cas cela constitue sécurité suffisante.</p></blockquote><h2 id=installer-bitcoind-et-bitcoin-cli>Installer bitcoind et bitcoin-cli</h2><p><em>Pour cette partie restez connecté à l&rsquo;utilisateur <code>bitcoin</code> en tapant <code>su bitcoin</code>.</em></p><p><code>bitcoind</code> est le système central de Bitcoin, le &ldquo;d&rdquo; à la fin signifie &ldquo;daemon&rdquo; qui désigne un service exécuté et maintenu par la machine. <code>bitcoin-cli</code> est une interface de commande qui permet d’interagir avec le service Bitcoin. Les deux s&rsquo;installent ensemble, ce qui est super !</p><p>D&rsquo;abord vous devrez chercher les fichiers d&rsquo;installation de Bitcoin, je vous le donne ici : <a href=https://bitcoin.org/bin/bitcoin-core-0.19.0.1/bitcoin-0.19.0.1-arm-linux-gnueabihf.tar.gz target=_blank>bitcoin-0.19.0.1-arm-linux-gnueabihf.tar.gz</a>. Gardez ce lien vous en aurez besoin.</p><p>Je tiens à souligner que vous pouvez le chercher par vous même en vous rendant <a href=https://bitcoincore.org/en/download/ target=_blank>ici</a> et en sélectionnant &ldquo;ARM Linux 64bits&rdquo;. Je vous conseille de le faire vous même car les versions sont mises à jour, ci-dessus vous avez la version 0.19.0.1 de Bitcoin Core.</p><p>Suivez les commandes ci-dessous pour installer <code>bitcoind</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>bitcoin@raspberrypi:~ $ wget https://bitcoin.org/bin/bitcoin-core-0.19.0.1/bitcoin-0.19.0.1-arm-linux-gnueabihf.tar.gz
</span></span><span class=line><span class=cl>bitcoin@raspberrypi:~ $ tar -vxf bitcoin-0.19.0.1-arm-linux-gnueabihf.tar.gz
</span></span><span class=line><span class=cl>bitcoin@raspberrypi:~ $ sudo install -m <span class=m>0755</span> -o bitcoin -g bitcoin -t /usr/local/bin bitcoin-0.19.0.1/bin/*
</span></span><span class=line><span class=cl>bitcoin@raspberrypi:~ $ rm -rf bitcoin-0.19.0.1</span></span></code></pre></td></tr></table></div></div><p>Notez qu&rsquo;on donne les droits uniquement à l&rsquo;utilisateur <code>bitcoin</code>. Désormais tapez les commandes <code>bitcoind -version</code> et <code>bitcoin-cli -version</code>. Si tout est bien installé vous verrez les versions s&rsquo;afficher.</p><h2 id=démarrer-bitcoind>Démarrer bitcoind</h2><p><code>bitcoind</code> est installé, il reste plus qu&rsquo;à le démarrer pour qu&rsquo;il puisse télécharger frénétiquement la blockchain en se connectant à des nœuds du réseau; automatiquement.</p><p>D&rsquo;abord je vous recommande de vérifier si vous avez bien connecté votre disque dur, suivez l&rsquo;exemple ci-dessous</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>bitcoin@raspberrypi:~ $ lsblk
</span></span><span class=line><span class=cl>NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<span class=s2>&#34;
</span></span></span><span class=line><span class=cl><span class=s2>sda           8:0    0 465.8G  0 disk /home/bitcoin/.bitcoin
</span></span></span><span class=line><span class=cl><span class=s2>mmcblk0     179:0    0  14.9G  0 disk
</span></span></span><span class=line><span class=cl><span class=s2>  |-mmcblk0p1 179:1    0  43.8M  0 part /boot
</span></span></span><span class=line><span class=cl><span class=s2>    -mmcblk0p2 179:2    0  14.8G  0 part /</span></span></span></code></pre></td></tr></table></div></div><p>On peut voir en surligné que <code>/home/bitcoin/.bitcoin</code> est bien connecté au disque ayant 465.8Go d&rsquo;espace. Si vous n&rsquo;avez pas cela, revenez sur la partie <a href=/#monter-le-disque>Monter le disque</a>.</p><p>Maintenant on peut écrire le fichier de configuration Bitcoin. Tapez <code>nano .bitcoin/bitcoin.conf</code>, cela va vous ouvrir un éditeur directement dans le terminal, ce qui vous permet d&rsquo;écrire les configurations. Voilà des configurations que je recommande :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>server</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nv>daemon</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nv>txindex</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>rpcuser</span><span class=o>=</span>&lt;Mettez un nom d<span class=err>&#39;</span>utilisateur&gt;
</span></span><span class=line><span class=cl><span class=nv>rpcpassword</span><span class=o>=</span>&lt;Mettez un mot de passe&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>onlynet</span><span class=o>=</span>ipv4
</span></span><span class=line><span class=cl><span class=nv>zmqpubrawblock</span><span class=o>=</span>tcp://127.0.0.1:28332
</span></span><span class=line><span class=cl><span class=nv>zmqpubrawtx</span><span class=o>=</span>tcp://127.0.0.1:28333
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>dbcache</span><span class=o>=</span><span class=m>50</span>
</span></span><span class=line><span class=cl><span class=nv>maxorphantx</span><span class=o>=</span><span class=m>10</span>
</span></span><span class=line><span class=cl><span class=nv>maxmempool</span><span class=o>=</span><span class=m>50</span>
</span></span><span class=line><span class=cl><span class=nv>maxconnections</span><span class=o>=</span><span class=m>40</span>
</span></span><span class=line><span class=cl><span class=nv>maxuploadtarget</span><span class=o>=</span><span class=m>1000</span></span></span></code></pre></td></tr></table></div></div><p>Pour sauvegarder tapez CTRL + O et CTRL + X pour quitter.</p><p>Et enfin tapez <code>sudo bitcoind</code> qui aura pour effet de lancer le service Bitcoin qui va rapidement commencer à télécharger la blockchain. Pour rappel cette dernière fait près de 200Go donc vous pouvez prendre une pause ici.</p><p>Pour observer l&rsquo;avancement tapez la commande <code>tail -f .bitcoin/debug.log</code> vous verrez des entrées qui ressemblent à ce qui suit</p><pre tabindex=0><code>2019-04-15T22:54:29Z UpdateTip: new best=00000000000000000024f0048c611086130b387e6634d8e2617c261a0c44b6dd height=571800 version=0x20c00000 log2_work=90.545983 tx=402724776 date=&#39;2019-04-15T22:54:19Z&#39; progress=1.000000 cache=14.5MiB(103309txo) warning=&#39;35 of last 100 blocks have unexpected version&#39;
</code></pre><p>L&rsquo;information intéressante ici est particulièrement <code>progress=1.000000</code>. Cette valeur est en réalité la progression de la synchronisation de la blockchain, 1 signifie 100%, si vous avez par exemple <code>progress=0.014</code> alors vous en êtes à 1.4%. Pour quitter le <code>tail</code> tapez CTRL + C.</p><h2 id=installer-lnd-et-lncli>Installer LND et LnCLI</h2><p><em>Pour cette partie restez connecté à l&rsquo;utilisateur <code>bitcoin</code> en tapant <code>su bitcoin</code>.</em></p><p><code>lnd</code> est le service qui va transformer le RaspberryPi en un nœud Lightning Network. Il va se connecter automatiquement a l&rsquo;interface de commande du service <code>bitcoind</code>. Tout comme <code>bitcoind</code> LND embarque l&rsquo;interface de commande <code>lncli</code>.</p><p>La procédure pour installer LND ressemble à l&rsquo;installation de Bitcoin. La première chose à faire est de télécharger le service en vous rendant sur ce lien <a href=https://github.com/lightningnetwork/lnd/releases target=_blank>github.com/lightningnetwork/lnd/releases</a>. Ici vous trouverez toutes les versions officielles de LND. Récupérez maintenant le lien de la dernière version &ldquo;linux-armv7&rdquo;, voici celle que j&rsquo;ai à l&rsquo;heure où j&rsquo;écris cet article <a href=https://github.com/lightningnetwork/lnd/releases/download/v0.8.2-beta/lnd-linux-armv7-v0.8.2-beta.tar.gz target=_blank>lnd-linux-armv7-v0.8.2-beta.tar.gz</a>.</p><p>Notez bien que mon exemple s&rsquo;applique pour la version que j&rsquo;ai envoyée : v0.8.2beta.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>bitcoin@raspberrypi:~ $ wget https://github.com/lightningnetwork/lnd/releases/download/v0.8.2-beta/lnd-linux-armv7-v0.8.2-beta.tar.gz
</span></span><span class=line><span class=cl>bitcoin@raspberrypi:~ $ tar -vxf lnd-linux-armv7-v0.8.2-beta.tar.gz
</span></span><span class=line><span class=cl>bitcoin@raspberrypi:~ $ sudo install -m <span class=m>0755</span> -o bitcoin -g bitcoin -t /user/local/bin lnd-linux-armv7-v0.8.2-beta/*
</span></span><span class=line><span class=cl>bitcoin@raspberrypi:~ $ rm -rf lnd-linux-armv7-v0.8.2-beta</span></span></code></pre></td></tr></table></div></div><p>Désormais tapez la commande <code>lnd -version</code>. Si tout est bien installé vous verrez la version s&rsquo;afficher.</p><p>Avant de démarrer LND créez son fichier de configuration en tapant <code>nano .lnd/lnd.conf</code>. Trouvez ci-dessous une configuration que je propose, vous pouvez évidemment mettre ce que vous voulez pour certaines options.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>Application Options<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>debuglevel</span><span class=o>=</span>info
</span></span><span class=line><span class=cl><span class=nv>maxpendingchannels</span><span class=o>=</span><span class=m>3</span>
</span></span><span class=line><span class=cl><span class=nv>alias</span><span class=o>=</span>&lt;Votre Alias / pseudonyme / nom / ...&gt;
</span></span><span class=line><span class=cl><span class=nv>color</span><span class=o>=</span>&lt;Une couleur en hexadécimal, par exemple <span class=c1>#F00 pour Rouge vif&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>nat</span><span class=o>=</span><span class=nb>true</span> <span class=c1># Si vous vous connectez depuis une box Internet</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Bitcoin<span class=o>]</span>
</span></span><span class=line><span class=cl>bitcoin.active<span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>bitcoin.mainnet<span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl>bitcoin.node<span class=o>=</span>bitcoind
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>bitcoind<span class=o>]</span>
</span></span><span class=line><span class=cl>bitcoind.rpcuser<span class=o>=</span>&lt;Ce que vous aviez mis dans .bitcoin/bitcoin.conf <span class=nv>rpcuser</span><span class=o>=</span>&gt;
</span></span><span class=line><span class=cl>bitcoind.rpcpass<span class=o>=</span>&lt;Ce que vous aviez mis dans .bitcoin/bitcoin.conf <span class=nv>rpcpassword</span><span class=o>=</span>&gt;
</span></span><span class=line><span class=cl>bitcoind.zmqpubrawblock<span class=o>=</span>tcp://127.0.0.1:28332
</span></span><span class=line><span class=cl>bitcoind.zmqpubrawtx<span class=o>=</span>tcp://127.0.0.1:28333
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>autopilot<span class=o>]</span>
</span></span><span class=line><span class=cl>autopilot.active<span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl>autopilot.maxchannels<span class=o>=</span><span class=m>3</span>
</span></span><span class=line><span class=cl>autopilot.allocation<span class=o>=</span>0.5</span></span></code></pre></td></tr></table></div></div><blockquote><p>&ldquo;autopilot&rdquo; vous intrigue peut-être. C&rsquo;est un algorithme qui connecte automatiquement des nœuds présents dans le réseau décentralisé, typiquement des nœuds Bitcoin et Lightning Network. Autopilot intègre le modèle <a href=https://en.wikipedia.org/wiki/Barab%C3%A1si%E2%80%93Albert_model target=_blank>Barabási–Albert</a> dans l&rsquo;idée de produire un réseau pair-à-pair en théorie homogène. Personnellement je l&rsquo;active mais en aucun cas cela est nécessaire.</p></blockquote><h2 id=démarrer-lnd>Démarrer LND</h2><p>Tapez simplement <code>lnd</code> et voilà ! Votre nœud LN est en route. Il va d&rsquo;abord synchroniser sa blockchain locale avec bitcoind. En attendant vous allez créer votre portefeuille. En effet LND ne va pas exploiter le portefeuille de bitcoind mais gérer le sien, cela veut dire que vous aurez un portefeuille relatif à votre nœud LN.</p><p>Laissez <code>lnd</code> tourner, ne quittez pas en faisant CTRL + C, je vous suggère d&rsquo;ouvrir un nouveau terminal et vous connecter à nouveau sur <code>bitcoin</code>. Quitter votre terminal ne stoppera pas LND.</p><p>Une fois de retour suivez cette procédure ci-dessous :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>bitcoin@raspberrypi:~ $ lncli create
</span></span><span class=line><span class=cl>Input wallet password : &lt;Mettez un mot de passe fort et écrivez le sur une feuille pour ne pas le perdre&gt;
</span></span><span class=line><span class=cl>Confirm wallet password: &lt;Confirmez votre mot de passe&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Do you have an existing cipher seed mnemonic you want to user? <span class=o>(</span>Enter y/n<span class=o>)</span>: n
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Your cipher seed can optionally be encrypted.
</span></span><span class=line><span class=cl>Input your passphrase <span class=k>if</span> you wish to encrypt it <span class=o>(</span>or press enter to proceed without a cipher seed passphrase<span class=o>)</span>: &lt;Mettez un mot de passe ou pressez directement ENTREE&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Generating fresh cipher seed...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>!!!YOU MUST WRITE DOWN THIS SEED TO BE ABLE TO RESTORE THE WALLET!!!
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; Ici lncli affiche votre seed, notez la consciencieusement sur une feuille, dans l<span class=err>&#39;</span>ordre. Cette seed <span class=o>(</span>graine<span class=o>)</span> est la clé de votre portefeuille<span class=p>;</span> elle vous assurera de ne jamais perdre vos fonds
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>!!!YOU MUST WRITE DOWN THIS SEED TO BE ABLE TO RESTORE THE WALLET!!!
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>lnd successfully initialized!</span></span></code></pre></td></tr></table></div></div><p>TADAM ! Vous avez maintenant un tout nouveau portefeuille et LND sera capable de fonctionner&mldr; Après avoir tapé ces commandes</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>bitcoin@raspberrypi:~ $ lncli unlock
</span></span><span class=line><span class=cl>bitcoin@raspberrypi:~ $ lncli newaddress p2wkh</span></span></code></pre></td></tr></table></div></div><blockquote><p>&ldquo;lncli unlock&rdquo; est important pour que LND puisse fonctionner car il aura besoin d&rsquo;un accès à votre portefeuille, ce dernier est chiffré par défaut et il faut le déchiffrer en le déverrouillant. Le mot de passe à insérer est le premier mot de passe que vous avez mis lors de la création du portefeuille avec <code>lncli create</code></p></blockquote><p>LND est maintenant prêt à fonctionner. Pour observer ce qu&rsquo;il se passe tapez la commande <code>tail -f .lnd/debug.log</code>.</p><p>Pour vérifier que votre nœud est bien recensé sur les internets allez chercher votre clé publique en tapant <code>lncli getinfo</code> comme dans le terminal ci-dessous</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>bitcoin@raspberrypi:~ $ lncli getinfo
</span></span><span class=line><span class=cl><span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;dentity_pubkey&#34;</span>: <span class=s2>&#34;03a2c34daf010b3501daf704b5a321e82e1631421b7ffa18dd49014967eda82dc&#34;</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;alias&#34;</span>: <span class=s2>&#34;Blocs&#34;</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;num_pending_channels&#34;</span>: 0,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;num_active_channels&#34;</span>: 3,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;num_peers&#34;</span>: 4,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;block_height&#34;</span>: 572660,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;block_hash&#34;</span>: <span class=s2>&#34;0000000000000000001d7bf15a13ffb76a8c1256e5ab778ffcc918d97944e45a&#34;</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;synced_to_chain&#34;</span>: true,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;testnet&#34;</span>: false,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;chains&#34;</span>: <span class=o>[</span> <span class=s2>&#34;bitcoin&#34;</span> <span class=o>]</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;uris&#34;</span>: <span class=o>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;03a2c34daf010b3501daf704b5a321e82e1631421b7ffa18dd49014967eda82dc9@109.18.104.32:9735&#34;</span>
</span></span><span class=line><span class=cl>  <span class=o>]</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;best_header_timestamp&#34;</span>: <span class=s2>&#34;1555878831&#34;</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;version&#34;</span>: <span class=s2>&#34;0.5.2-beta commit=v0.5.2-beta&#34;</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;num_inactive_channels&#34;</span>: 0<span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></td></tr></table></div></div><p>Ma clé publique est <code>03a2c34daf010b3501daf704b5a321e82e1631421b7ffa18dd49014967eda82dc9</code>, elle sert d&rsquo;identifiant au nœud. Maintenant si votre nœud est bien configuré et en route, vous pouvez le trouver sur ce site : <a href=https://1ml.com target=_blank>1ml.com</a> en tapant dans la recherche la clé publique de votre nœud.</p><hr><p>Vous êtes maintenant propriétaire d&rsquo;un nœud Bitcoin et d&rsquo;un nœud Lightning Network. Cela signifie que vous avez la capacité d&rsquo;utiliser n&rsquo;importe quel portefeuille supportant LN en passant par votre propre serveur. Félicitations et bienvenue dans la communauté de l&rsquo;a&mldr; Bitcoin et LN. Dans un article suivant on va voir comment avoir une interface graphique pour gérer son nœud sans passer par les lignes de commande comme nous l&rsquo;avons fait tout au long de l&rsquo;installation. Pour l&rsquo;heure vous pouvez découvrir les possibilités de LN en tapant <code>lncli --help</code> et les possibilités de Bitcoin en tapant <code>bitcoin-cli --help</code>.</p></article></div><div class=grow></div><nav class=pagination-single><a href=https://blocs.fr/blog/bitcoin-et-lightning-anonyme-avec-tor/ title="Servir Bitcoin et Lightning Network en étant anonyme avec Tor" class=pagination-single__left><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03.0-1.42s-1.02-.39-1.41.0l-6.59 6.59c-.39.39-.39 1.02.0 1.41l6.59 6.59c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L7.83 13H19c.55.0 1-.45 1-1s-.45-1-1-1z"/></svg></div><div class=pagination-single__right-title>Servir Bitcoin et Lightning Network en étant anonyme avec Tor</div></a><div class=grow></div><a href=https://blocs.fr/blog/configurer-un-noeud-lightning-network/ title="Configurer son nœud Bitcoin Lightning Network" class=pagination-single__right><div class=pagination-single__left-title>Configurer son nœud Bitcoin Lightning Network</div><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03.0 1.42.39.39 1.02.39 1.41.0l6.59-6.59c.39-.39.39-1.02.0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41.0s-.39 1.02.0 1.41L16.17 11H5c-.55.0-1 .45-1 1s.45 1 1 1z"/></svg></div></a></nav><h2 class=comment-title>Commentez l'article</h2><script src=https://isso.blocs.fr/js/embed.min.js data-isso-reply-notifications=true data-isso=https://isso.blocs.fr/ data-isso-lang=fr crossorigin=anonymous></script><section id=isso-thread></section></article><section id=list-side class=r data-dir=ltr><div class=toc><h6 class=toc__label>Sommaire de l'article</h6><div class=toc__body><nav id=TableOfContents><ul><li><a href=#matériels-requis>Matériels requis</a></li><li><a href=#installer-raspian-stretch-lite>Installer Raspian Stretch Lite</a></li><li><a href=#configurer-le-raspberry-pi>Configurer le Raspberry Pi</a><ul><li><a href=#activer-et-configurer-ssh>Activer et configurer SSH</a></li><li><a href=#créer-un-utilisateur>Créer un utilisateur</a></li></ul></li><li><a href=#préparer-le-disque-dur>Préparer le disque dur</a><ul><li><a href=#formater-optionnel>Formater (optionnel)</a></li><li><a href=#monter-le-disque>Monter le disque</a></li></ul></li><li><a href=#installer-bitcoind-et-bitcoin-cli>Installer bitcoind et bitcoin-cli</a></li><li><a href=#démarrer-bitcoind>Démarrer bitcoind</a></li><li><a href=#installer-lnd-et-lncli>Installer LND et LnCLI</a></li><li><a href=#démarrer-lnd>Démarrer LND</a></li></ul></nav></div></div></section></div></div><script>"use strict";function wrap(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}(function(){var e=document.querySelector(".single__contents");e?e.querySelectorAll("pre > code").forEach(function(e){var t=e.getAttribute("data-lang"),s=document.createElement("div"),o=null,n=null;t&&t.includes(":")&&(o=t.split(":")[0],n=t.split(":")[1],s.className="language-"+o,s.setAttribute("data-lang",n),e.className="language-"+o,e.setAttribute("data-lang",n),e.setAttribute("id",n)),(!t||n)&&wrap(e.parentNode,s)}):null})();var dollarCodeElem=document.querySelectorAll("div.language-\\$"),gtCodeElem=document.querySelectorAll("div.language-\\>");dollarCodeElem?dollarCodeElem.forEach(function(e){var t=e.parentNode.parentNode?e.parentNode.parentNode.querySelectorAll(".lnt"):null;t?t.forEach(function(e){e.innerHTML="$<br/>"}):null}):null,gtCodeElem?gtCodeElem.forEach(function(e){var t=e.parentNode.parentNode?e.parentNode.parentNode.querySelectorAll(".lnt"):null;t?t.forEach(function(e){e.innerHTML="><br/>"}):null}):null</script><script defer src=/js/helper/getParents.min.js></script>
<script defer src=/js/helper/closest.min.js></script>
<script defer src=/js/helper/prev.min.js></script>
<script defer src=/js/helper/prop.min.js></script>
<script defer src=/js/helper/fadeinout.min.js></script>
<script>document.addEventListener("DOMContentLoaded",function(){"use strict";var e,t,n,s,o,i,a,r,c,l,d,u,h,m,p,f=document.querySelectorAll(".single__contents > table");for(let e=0;e<f.length;e++)s=f[e],c=document.createElement("div"),c.className="table-wrapper",s.parentElement.replaceChild(c,s),c.appendChild(s);e=JSON.parse("null"),e&&e.includes("mermaid")&&(h=localStorage.getItem("theme")||"light",h==="dark"?mermaid.initialize({theme:"dark"}):mermaid.initialize({theme:"default"}),d=[],[].push.apply(d,document.getElementsByClassName("language-mermaid")),d.forEach(function(e){var n,t=e.parentNode;t!==document.body&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t)),n=document.createElement("div"),n.classList.add("mermaid"),n.innerHTML=e.innerHTML,e.replaceWith(n)})),e&&e.includes("katex")&&(p=document.getElementsByClassName("math"),r={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]},renderMathInElement(document.querySelector(".single__contents"),r)),e&&e.includes("flowchartjs")&&(r=JSON.parse('{"arrow-end":"block","element-color":"black","fill":"white","flowstate":{"approved":{"fill":"#58C4A3","font-size":12,"no-text":"n/a","yes-text":"APPROVED"},"current":{"fill":"yellow","font-color":"red","font-weight":"bold"},"future":{"fill":"#FFFF99"},"invalid":{"fill":"#444444"},"past":{"fill":"#CCCCCC","font-size":12},"rejected":{"fill":"#C45879","font-size":12,"no-text":"REJECTED","yes-text":"n/a"},"request":{"fill":"blue"}},"font-color":"black","font-size":14,"line-color":"black","line-length":50,"line-width":3,"no-text":"no","scale":1,"symbols":{"end":{"class":"end-element"},"start":{"element-color":"green","fill":"yellow","font-color":"red"}},"text-margin":10,"x":0,"y":0,"yes-text":"yes"}'),n=null,u="language-flowchart",t=0,Array.prototype.forEach.call(document.querySelectorAll("[class^="+u+"]"),function(e){e.style.display="none",e.parentNode.style.backgroundColor="transparent",n=e.innerText;var o,s=document.createElement("div");s.id="flowchart"+t,e.parentNode.insertBefore(s,e),o=flowchart.parse(n),o.drawSVG("flowchart"+t,r),t+=1})),e&&e.includes("chart")&&(a="#666",i="#ddd",o=2,Chart.defaults.global.elements.rectangle.borderWidth=o,Chart.defaults.global.elements.rectangle.borderColor=a,Chart.defaults.global.elements.rectangle.backgroundColor=i,Chart.defaults.global.elements.line.borderWidth=o,Chart.defaults.global.elements.line.borderColor=a,Chart.defaults.global.elements.line.backgroundColor=i,Chart.defaults.global.elements.point.borderWidth=o,Chart.defaults.global.elements.point.borderColor=a,Chart.defaults.global.elements.point.backgroundColor=i,m="language-chart",t=0,n=null,Array.prototype.forEach.call(document.querySelectorAll("[class^="+m+"]"),function(e){e.style.display="none",e.parentNode.style.backgroundColor="transparent",n=e.innerText;var i,a,s=document.createElement("canvas"),o=null;s.height=200,s.style.height=200,s.id="myChart"+t,o=JSON.parse(n),e.parentNode.insertBefore(s,e),i=document.getElementById("myChart"+t).getContext("2d"),a=new Chart(i,o),t+=1})),e&&e.includes("viz")&&(l="language-viz-",Array.prototype.forEach.call(document.querySelectorAll("[class^="+l+"]"),function(e){e.style.display="none",e.parentNode.style.backgroundColor="transparent",e.getAttribute("class").split(" ").forEach(function(e){e.startsWith(l)&&(t=e.substr(l.length))});var t,n=new Viz;n.renderSVGElement(e.innerText,{engine:t}).then(function(t){t.style.width="100%",e.parentNode.insertBefore(t,e)})}))})</script><script>var singleMenu=document.getElementById("single-menu"),listMain=document.getElementById("list-main"),listSide=document.getElementById("list-side"),wideViewAsDefault=JSON.parse("null");enquire.register("screen and (max-width:1280px)",{match:function(){wideViewAsDefault?(singleMenu.className="hide",listMain.className="lm",listSide.className="r"):(singleMenu.className="l",listMain.className="m",listSide.className="r")},unmatch:function(){wideViewAsDefault?(singleMenu.className="hide",listMain.className="lm",listSide.className="r"):(singleMenu.className="l",listMain.className="m",listSide.className="r")}}).register("screen and (max-width:960px)",{match:function(){listSide.className="r",listMain.className="lm",singleMenu.className="hide"},unmatch:function(){wideViewAsDefault?(singleMenu.className="hide",listMain.className="lm",listSide.className="r"):(singleMenu.className="l",listMain.className="m",listSide.className="r")}}).register("screen and (max-width:600px)",{match:function(){listSide.className="hide",listMain.className="lmr",singleMenu.className="hide"},unmatch:function(){listSide.className="r",listMain.className="lm",singleMenu.className="hide"}})</script><div class=bot><footer class=footer><div class=divider><div class=lmr><p class=caption>©2022 blocs.fr</p></div></div></footer></div></div></body></html>